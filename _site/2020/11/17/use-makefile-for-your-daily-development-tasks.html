<!DOCTYPE html>
<html lang="en-US">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5Y12FP2FMY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5Y12FP2FMY');
  </script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>Use Makefile for your daily development tasks - Parochi</title>
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Use Makefile for your daily development tasks | Parochi</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Use Makefile for your daily development tasks" />
<meta name="author" content="Rajesh" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="All about learning new technologies, articles based on the previous or present experience." />
<meta property="og:description" content="All about learning new technologies, articles based on the previous or present experience." />
<link rel="canonical" href="http://localhost:4000/2020/11/17/use-makefile-for-your-daily-development-tasks.html" />
<meta property="og:url" content="http://localhost:4000/2020/11/17/use-makefile-for-your-daily-development-tasks.html" />
<meta property="og:site_name" content="Parochi" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-17T00:00:00-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Use Makefile for your daily development tasks" />
<meta name="twitter:site" content="@rajesh_1432" />
<meta name="twitter:creator" content="@Rajesh" />
<script type="application/ld+json">
{"description":"All about learning new technologies, articles based on the previous or present experience.","@type":"BlogPosting","url":"http://localhost:4000/2020/11/17/use-makefile-for-your-daily-development-tasks.html","headline":"Use Makefile for your daily development tasks","dateModified":"2020-11-17T00:00:00-08:00","datePublished":"2020-11-17T00:00:00-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/11/17/use-makefile-for-your-daily-development-tasks.html"},"author":{"@type":"Person","name":"Rajesh"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/assets/css/main.css">
  <script data-ad-client="ca-pub-2306892121469167" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body style="padding-bottom:20px;"> 
 <nav class="navbar navbar-expand-md navbar-dark bg-brand-nav py-4">
  <div class="container">
    <a class="navbar-brand font-brand-nav" href="/">parochi</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <!--Twitter-->
              <a class="navbar-brand font-brand-menu" target="_blank" href="https://twitter.com/@rajesh_1432" type="button" role="button"><i class="fab fa-twitter"></i></a>
            </li>
            <li class="nav-item">
              <!--LinkedIn-->
              <a class="navbar-brand font-brand-menu" target="_blank" href="https://www.linkedin.com/in/reddyrajeshkumar/" type="button" role="button"><i class="fab fa-linkedin-in"></i></a>
            </li>
            <li class="nav-item">
            <!--Github-->
            <a class="navbar-brand font-brand-menu" target="_blank" href="https://github.com/parochi"  type="button" role="button"><i class="fab fa-github"></i></a>
            </li>
        </ul>
    </div>
  </div>
</nav>
<!--
<nav class="navbar navbar-expand-lg navbar-dark bg-danger">
  <a href="/" class="navbar-brand">parochi</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar6">
      <span class="navbar-toggler-icon"></span>
  </button>
  <div class="navbar-collapse collapse justify-content-stretch" id="navbar6">
      <ul class="navbar-nav">
          <li class="nav-item active">
              <a class="nav-link" href="#">Link <span class="sr-only">Home</span></a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
          </li>
      </ul>
      <ul class="navbar-nav ml-auto">
          <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="//codeply.com">Codeply</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
          </li>
      </ul>
  </div>
</nav>
-->
<!--
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="/">Parochi</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      
      <a class="nav-item nav-link" href="/about.html">About</a>
        
    </div>
  </div>
</nav>
-->
<div class="container">
  &nbsp;
  <!-- Ad Placement -->
</div>

<div class="container">
  <div class="row">
      <div class="col-10 font-read-text"> 
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Use Makefile for your daily development tasks</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-11-17T00:00:00-08:00" itemprop="datePublished">Nov 17, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="view overlay">
	<img class="card-img-top" src="/assets/images/2020-11-17.jpg" alt="Card image cap" />
    <a href="#!">
        <div class="mask rgba-white-slight"></div>
    </a>
</div>

<p>A typical routine of a developer is code, build, unit test, and deploy. Most of the time, developers do all these tasks in their local first and once everything is fine then they move to the next state. This will be a very much repeated process when we work on a microservices architecture.</p>

<p>From my experience, If I can list out a typical list of tasks for a go language-based microservice. Those are</p>

<ol>
  <li>Clean</li>
  <li>Format</li>
  <li>Lint</li>
  <li>Dependencies</li>
  <li>Run Unit tests</li>
  <li>Build</li>
  <li>Push to Dev Quay</li>
  <li>Coverage Report</li>
</ol>

<p>All these steps can be placed in a simple Makefile and then onwards, the same can be used by anyone to quickly take the charge and move on. This kind is one of the best practices when it comes to day-to-day development activity [I am not denying that there are multiple ways of achieving the same]. Here is the typical Makefile from my experience.</p>

<p>The below sample make file is specific to Go language-based environment but I believe the idea can be used to leverage with any other project.</p>

<!-- HTML generated using hilite.me -->
<div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-style: italic"># Enable dependencies and configure the private repo</span>
GO = GO111MODULE=on GOPRIVATE=&lt;your private repo&gt;.cisco.com
EXEFILE = ./bin/&lt;exe file name&gt;
MAIN_GO = &lt;your service main.go file location&gt;

<span style="color: #008800; font-style: italic"># help messages</span>
help:
    @echo <span style="color: #0000FF">&#39;Available commands for the &lt;your micro service name&gt;&#39;</span>
    @echo <span style="color: #0000FF">&#39;Usage&#39;</span>
    @echo <span style="color: #0000FF">&#39;  all - Run all the available commands&#39;</span>
    @echo <span style="color: #0000FF">&#39;  clean - Run the clean up&#39;</span>
    @echo <span style="color: #0000FF">&#39;  setup -  Run the initial setup instructions&#39;</span>
    @echo <span style="color: #0000FF">&#39;  format - Run code format&#39;</span>
    @echo <span style="color: #0000FF">&#39;  staticanalysis - Run the static code analysis&#39;</span>
    @echo <span style="color: #0000FF">&#39;  dependencies - Run the dependencies&#39;</span>
    @echo <span style="color: #0000FF">&#39;  unittest - Run unit tests&#39;</span>
    @echo <span style="color: #0000FF">&#39;  localbuild - Build the executable&#39;</span>

<span style="color: #008800; font-style: italic"># Run all the available commands in the below order</span>
all: <span style="color: #0000FF">clean setup dependencies format staticanalysis unittest localbuild</span>

clean:
    @echo <span style="color: #0000FF">&quot;Cleaning the previous executable and coverage reports&quot;</span>
    rm -f coveragereport.out report.json
    rm -f <span style="color: #000080; font-weight: bold">${</span>EXEFILE <span style="color: #000080; font-weight: bold">}</span>

setup:
    @echo <span style="color: #0000FF">&quot;Add any steps that are needed&quot;</span>
    &lt;some installation tasks&gt;
format:
    @echo <span style="color: #0000FF">&quot;Code Formatting&quot;</span>
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> fmt ./...
staticanalysis:
    @echo <span style="color: #0000FF">&quot;&quot;</span>
    golangci-lint run -c .golangci.yaml
dependencies:
    @echo <span style="color: #0000FF">&#39; Load Dependencies&#39;</span>
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> mod tidy
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> mod download
unittest:
    @echo <span style="color: #0000FF">&quot;Executing Unit tests&quot;</span>
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> test -v covermode=atomic -count=1 ./... -coverprofile coveragereport.out
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> test -race test -covermode=atomic -count=1 ./... -json &gt; report.json
localbuild:
    @echo <span style="color: #0000FF">&quot;Loca build&quot;</span>
    <span style="color: #000080; font-weight: bold">${</span>GO<span style="color: #000080; font-weight: bold">}</span> build -o <span style="color: #000080; font-weight: bold">${</span>EXEFILE<span style="color: #000080; font-weight: bold">}</span> <span style="color: #000080; font-weight: bold">${</span>MAIN_GO<span style="color: #000080; font-weight: bold">}</span>
    docker build -t &lt;your tag name&gt; .
    docker tag &lt;your tag name&gt; &lt;your quay repo location&gt;:latest
    docker push &lt;your quay repo location&gt;:latest
</pre></td></tr></table></div>


  </div><a class="u-url" href="/2020/11/17/use-makefile-for-your-daily-development-tasks.html" hidden></a>
</article>

        <br/>
      </div>
      <div class="col-2"> 
        <div class="row h-100 mt-5">
        </div>
      </div>
  </div>
</div>
 

<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- Site footer -->
<footer class="site-footer text-white">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h6>About</h6>
        <p class="text-justify">A software engineer with tremndous experience in design and development of medium to large scale applications in various environments with major expertise in Cloud Native.</p>
      </div>

      <div class="col-xs-6 col-md-3">
        <!--
        <h6>Categories</h6>
        <ul class="footer-links">
          <li><a href="http://scanfcode.com/category/c-language/">C</a></li>
          <li><a href="http://scanfcode.com/category/front-end-development/">UI Design</a></li>
          <li><a href="http://scanfcode.com/category/back-end-development/">PHP</a></li>
          <li><a href="http://scanfcode.com/category/java-programming-language/">Java</a></li>
          <li><a href="http://scanfcode.com/category/android/">Android</a></li>
          <li><a href="http://scanfcode.com/category/templates/">Templates</a></li>
        </ul>
        -->
      </div>

      <div class="col-xs-6 col-md-3">
        <!--
        <h6>Quick Links</h6>
        <ul class="footer-links">
          <li><a href="http://scanfcode.com/about/">About Us</a></li>
          <li><a href="http://scanfcode.com/contact/">Contact Us</a></li>
          <li><a href="http://scanfcode.com/contribute-at-scanfcode/">Contribute</a></li>
          <li><a href="http://scanfcode.com/privacy-policy/">Privacy Policy</a></li>
          <li><a href="http://scanfcode.com/sitemap/">Sitemap</a></li>
        </ul>
        -->
      </div>
    </div>
    <hr>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-sm-6 col-xs-12">
        <p class="copyright-text">Copyright &copy; 2020 All Rights Reserved by Parochi.
        </p>
      </div>

      <div class="col-md-4 col-sm-6 col-xs-12">
        <!-- Social buttons -->
  <ul class="list-unstyled list-inline text-center">
    <li class="list-inline-item">
      <a class="btn-floating btn-fb mx-1">
        <i class="fab fa-facebook-f"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-tw mx-1">
        <i class="fab fa-twitter"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-gplus mx-1">
        <i class="fab fa-google-plus-g"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-li mx-1">
        <i class="fab fa-linkedin-in"> </i>
      </a>
    </li>
    <!--
    <li class="list-inline-item">
      <a class="btn-floating btn-dribbble mx-1">
        <i class="fab fa-dribbble"> </i>
      </a>
    </li>
    -->
  </ul>
  <!-- Social buttons -->
      </div>
    </div>
  </div>
</footer>
</body>
</html>
